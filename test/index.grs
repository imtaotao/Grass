<template>
  <div>
    <div @click="this.callback.bind(this)">点击</div>
    <div>
      <Child
      v-for="val of arr"
      v-if="show"
      v-text="val"
      v-transition="'slide-fade'"/>
    </div>
     <div v-show="show" v-transition="'slide-fade'">--------</div>
    <Child
      v-for="val of arr"
      v-if="show"
      v-text="val"
      v-transition="'slide-fade'"/>

    <p v-show="show" v-transition="'slide-fade'">fff</p>
  </div>
</template>

<script>
 
import Grass, { CSSModules } from '../src'
import Child from './child'
import style from './style.css'

@CSSModules(style)
class Root extends Grass.Component {
  constructor () {
    super()
    this.state = {
      api: 'index',
      arr: [1, 2],
      show: true,
      obj: {
        tt: 'chentao',
        ff: 'fangfang'
      }
    }
  }

  callback (api) {
    this.setState({show: !this.state.show, arr: [1, 2, 3, 4]})
  }

  beforeEnter (dom) {
    // console.log(dom);
    // console.log('beforeEnter');
    // return false
  }

  afterEnter () {
    // console.log('afterEnter');
  }

  beforeLeave () {
    // console.log('beforeLeave');
    // return false
  }

  afterLeave (dom) {
    // console.log('afterLeave');
    // console.log(dom);
  }

  component () {
    return { Child }
  }
}


Grass.directive('tt', (dom, val) => {
  console.log(dom, val);
})
Grass.mount(document.getElementById('root'), Root) 
</script>